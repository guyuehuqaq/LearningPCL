# 1、 视点特征直方图(Viewpoint Feature Histogram,VFH)
VFH 是一种点云**全局描述子**（Global Descriptor），它将一个物体（或者某一片点云）
的几何形状信息和观察视角信息编码成一个高维直方图，是一种用于聚类识别和6DOF姿态估计
问题(六自由度姿态估计)的点聚类的描述符。

VFH基于FPFH。FPFH有很好的速度和辨别能力，在此基础上添加视点方差，同时保持尺度不变性。

# 2、 用途
- 3D 物体识别与分类，一个物体计算一个VFH；多个物体要先分割
- 粗略姿态估计，给定一个点云，找到其在世界坐标系的大致朝向
- 作为 RANSAC / ICP 的初步匹配

# 3、 VFH核心原理
VFH 在 FPFH 的局部特征直方图 基础上，加入了两个额外的信息：
- 物体整体几何结构分布（点法向之间的关系）
- 与视点位置的关系（观测方向）

这样它不仅能描述物体表面形状，还能引入视角信息，从而更适合做 全局特征 用于识别。

VFH 特征向量维度为 308 维，由以下部分组成:
- 点法向之间的角度直方图（45 维，源自 FPFH 的角度特征)
- 点法向与视点方向的关系（128 维，描述物体朝向与视点的关系）
- 点法向的整体分布（128 维，捕捉物体全局表面走向）
- 距离分布直方图（7 维，描述点到质心的分布情况）

# 4、 VFH算法流程
## 4.1 法线估计
- 对每个点 𝑝𝑖 计算法向量 𝑛𝑖
## 4.2 计算SPFH
- 计算 SPFH（Simplified Point Feature Histogram）
## 4.3 累积 SPFH 形成全局特征
- 对每个点的 SPFH 做 邻域加权累积 → 得到每个点的局部特征加权直方图
- 对所有点的直方图做 全局统计 → 得到一个固定维度的向量（VFH）

## 4.4 加入视点信息
- VFH 还统计了点法线相对于视点方向的分布
    - 每个点法线与观察方向向量的夹角 𝛽 = arccos(𝑛𝑖 ⋅ 𝑣)
    - 这些角度也形成直方图，反映视点的观察效果
- 最终 VFH = 几何分布直方图 + 视点方向直方图
## 4.5 特征向量输出

## 4.6 应用匹配
用 VFH 特征向量做相似度匹配（例如欧氏距离或余弦相似度）




