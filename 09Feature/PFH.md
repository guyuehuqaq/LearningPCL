# 1、Point Feature Histogram(PFH)
PFH是一种 局部几何特征描述子，用来描述某个点周围邻域的几何结构（形状、曲率关系），
常用于 点云配准、物体识别、点匹配 等。
# 2、核心思想
对某个点 𝑝 来说，仅凭它的坐标无法描述局部形状，需要考虑它和邻域点之间的几何关系。
PFH通过法向量间的关系 来描述邻域点之间的几何结构。

关键：不是只考虑点 𝑝 和每个邻域点的关系，而是考虑 邻域点两两之间的关系（这点和FPFH的区别很大）。
# 3、计算流程
## 3.1 邻域搜索
- 给定点云中的一个点 p，先通过 k 邻近点（kNN） 或 半径 r 搜索 找到它的局部邻域点集
- PFH 是基于 点与点对之间的几何关系 来计算的，所以需要邻域
## 3.2 建立局部坐标系
对于每一对点(𝑝𝑖, 𝑝𝑗)，计算它们的 法向量 𝑛𝑖, 𝑛𝑗，并建立一个 局部参考坐标系，具体步骤如下：
- 定义向量：dij = (𝑝𝑗 - 𝑝𝑖) / ||𝑝𝑗 - 𝑝𝑖||
- 以点 𝑝𝑖 的法向量 𝑛𝑖 为基准:
    - u=ni
    - v=u×dij
    - w=u×v
  
这样得到一个正交基(u,v,w)，称为 Darboux 坐标系。
## 3.3 计算几何特征关系
在上一步的局部坐标系中，计算每一对点的关系:
- α（alpha）: α=v ⋅ nj
- φ（phi）: ϕ=u ⋅ dij
- θ（theta）: θ = arctan(w ⋅ nj, u ⋅ nj)
- d = ||𝑝𝑗 - 𝑝𝑖||
## 3.4 累积直方图(特征编码)
通过 直方图统计，把这些角度关系量化到固定的bin中：
- 对一个点的邻域中所有点对，计算上述四元组
- 把结果填入直方图（Histogram）中:
    - α,ϕ,θ 通常分成固定的bin数（比如11个bin）
    - 距离 d 可选是否加入

最终得到一个高维直方图（通常是125维），作为该点的描述子。