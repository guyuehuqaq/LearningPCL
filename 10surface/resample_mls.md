# 1、移动最小二乘拟合(MLS)
是点云数据的一种预处理方法，通过重采样提高点云数据密度。

MLS 对每个点都会基于局部邻域拟合一个曲面，然后把点投影到曲面上，
从而实现点云平滑，同时可以顺便计算更准确的法线。可选的上采样还能增加点云密度，改善重建效果。

# 2、算法流程
假设输入点云为 {𝑝𝑖}：

### 2.1 邻域搜索
对点云中的每个点 𝑝𝑖，在它周围一定半径 𝑟 内找到邻域点 {𝑞𝑗}。  
这个搜索通常通过 KD-Tree 或其他空间索引实现。

搜索半径由 `mls.setSearchRadius(r)` 控制。  
这一部分就是 MLS 的“局部窗口”，每个点都有自己对应的局部邻域。

### 2.2 局部加权拟合曲面
对邻域点进行最小二乘拟合（Polynomial Fit）：
- 可以拟合平面（一阶多项式），也可以拟合二次曲面（二阶多项式）。
- 通常使用高斯权重，离中心点 𝑝𝑖 越远的点权重越小。

拟合后得到一个局部函数 f(x, y)，描述该邻域的曲面。

### 2.3 投影原始点到拟合曲面
将原始点 𝑝𝑖 投影到拟合的曲面上，得到新的平滑点 𝑝̃𝑖。  
这个过程就是 MLS 的“Moving”部分，每个点都有自己的局部曲面。

### 2.4 计算法线（可选）
对拟合曲面 f(x, y) 求梯度，梯度方向即为曲面的法线 𝑛𝑖。  
在 PCL 中，可以通过 `mls.setComputeNormals(true)` 开启这一功能。

### 2.5 （可选）上采样 / 插值
MLS 可以在原始点上生成更多平滑点。  
可以使用不同方法，如 Sample Local Plane、Random Uniform Density 或 Voxel Grid 来增加点云密度。  
上采样后的点云更密集，有利于后续的曲面重建。
